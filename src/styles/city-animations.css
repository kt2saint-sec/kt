/* ============================================
   LIVING CITY â€” Animated Background Overlays
   Pure CSS3 keyframes for cyberpunk city life
   ============================================ */

/* --- SHARED KEYFRAMES --- */

/* Window lights flickering at different rhythms */
@keyframes window-flicker-a {
  0%, 18%, 22%, 100% { opacity: 0.12; }
  20% { opacity: 0.03; }
  50% { opacity: 0.15; }
  80% { opacity: 0.08; }
}
@keyframes window-flicker-b {
  0%, 40%, 44%, 100% { opacity: 0.1; }
  42% { opacity: 0.02; }
  70% { opacity: 0.14; }
}
@keyframes window-flicker-c {
  0%, 100% { opacity: 0.08; }
  30% { opacity: 0.15; }
  60% { opacity: 0.04; }
  85% { opacity: 0.12; }
}

/* Flying car traversing the sky */
@keyframes fly-car-ltr {
  0% { transform: translateX(-120px) translateY(0); opacity: 0; }
  5% { opacity: 1; }
  95% { opacity: 1; }
  100% { transform: translateX(calc(100vw + 120px)) translateY(-20px); opacity: 0; }
}
@keyframes fly-car-rtl {
  0% { transform: translateX(calc(100vw + 120px)) translateY(0); opacity: 0; }
  5% { opacity: 1; }
  95% { opacity: 1; }
  100% { transform: translateX(-120px) translateY(15px); opacity: 0; }
}

/* Neon sign glow pulse */
@keyframes sign-glow {
  0%, 100% { opacity: 0.06; box-shadow: 0 0 20px currentColor; }
  50% { opacity: 0.15; box-shadow: 0 0 40px currentColor; }
}

/* Atmospheric haze drift */
@keyframes haze-drift {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0%); }
}

/* Steam rising */
@keyframes steam-rise {
  0% { transform: translateY(0) translateX(0) scaleX(1); opacity: 0; }
  15% { opacity: 0.25; }
  50% { opacity: 0.15; transform: translateY(-80px) translateX(15px) scaleX(1.5); }
  100% { transform: translateY(-160px) translateX(25px) scaleX(2.5); opacity: 0; }
}
@keyframes steam-rise-alt {
  0% { transform: translateY(0) translateX(0) scaleX(1); opacity: 0; }
  15% { opacity: 0.2; }
  50% { opacity: 0.12; transform: translateY(-90px) translateX(-10px) scaleX(1.8); }
  100% { transform: translateY(-170px) translateX(-20px) scaleX(2.2); opacity: 0; }
}

/* Neon reflection pulse on wet street */
@keyframes reflection-pulse {
  0%, 100% { opacity: 0.04; }
  33% { opacity: 0.1; }
  66% { opacity: 0.06; }
}

/* Billboard color cycle */
@keyframes billboard-cycle {
  0%, 100% { background-color: rgba(0, 229, 255, 0.08); }
  33% { background-color: rgba(255, 0, 153, 0.08); }
  66% { background-color: rgba(255, 107, 0, 0.08); }
}

/* City light twinkle */
@keyframes twinkle {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

/* Shop window warm glow */
@keyframes shop-glow {
  0%, 100% { opacity: 0.06; }
  50% { opacity: 0.14; }
}

/* Rain fall */
@keyframes rain-fall {
  0% { transform: translateY(-100%) translateX(0); }
  100% { transform: translateY(100vh) translateX(-30px); }
}

/* Cloud/haze drift across sky */
@keyframes cloud-drift {
  0% { transform: translateX(-30%); }
  100% { transform: translateX(110%); }
}

/* Lightning flash */
@keyframes lightning-flash {
  0%, 92%, 100% { opacity: 0; }
  93% { opacity: 0.15; }
  94% { opacity: 0; }
  95% { opacity: 0.1; }
  96% { opacity: 0; }
}

/* Ember/particle rise */
@keyframes ember-rise {
  0% { transform: translateY(0) translateX(0); opacity: 0; }
  20% { opacity: 0.8; }
  80% { opacity: 0.4; }
  100% { transform: translateY(-200px) translateX(30px); opacity: 0; }
}

/* --- OVERLAY CONTAINER --- */

.city-fx-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

/* --- HERO EFFECTS --- */

.hero-window-light {
  position: absolute;
  border-radius: 2px;
  will-change: opacity;
}
.hero-window-light--a {
  background: radial-gradient(ellipse, rgba(255, 220, 150, 0.15), transparent 70%);
  animation: window-flicker-a 4s ease-in-out infinite;
}
.hero-window-light--b {
  background: radial-gradient(ellipse, rgba(150, 200, 255, 0.12), transparent 70%);
  animation: window-flicker-b 5s ease-in-out infinite;
}
.hero-window-light--c {
  background: radial-gradient(ellipse, rgba(255, 255, 255, 0.1), transparent 70%);
  animation: window-flicker-c 6s ease-in-out infinite;
}

.hero-flying-car {
  position: absolute;
  width: 30px;
  height: 4px;
  border-radius: 50%;
  will-change: transform, opacity;
}
.hero-flying-car--1 {
  background: rgba(0, 229, 255, 0.6);
  box-shadow: 0 0 8px rgba(0, 229, 255, 0.4), -15px 0 12px rgba(0, 229, 255, 0.2);
  top: 18%;
  animation: fly-car-ltr 8s linear infinite;
}
.hero-flying-car--2 {
  background: rgba(255, 0, 153, 0.5);
  box-shadow: 0 0 8px rgba(255, 0, 153, 0.4), 15px 0 12px rgba(255, 0, 153, 0.2);
  top: 28%;
  animation: fly-car-rtl 12s linear 3s infinite;
}
.hero-flying-car--3 {
  background: rgba(255, 215, 0, 0.5);
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.3), -12px 0 10px rgba(255, 215, 0, 0.15);
  top: 12%;
  animation: fly-car-ltr 15s linear 6s infinite;
}
.hero-flying-car--4 {
  background: rgba(255, 107, 0, 0.4);
  box-shadow: 0 0 6px rgba(255, 107, 0, 0.3), 10px 0 8px rgba(255, 107, 0, 0.15);
  top: 35%;
  animation: fly-car-rtl 10s linear 1s infinite;
}

.hero-neon-sign {
  position: absolute;
  border-radius: 4px;
  animation: sign-glow 4s ease-in-out infinite;
  will-change: opacity;
}

.hero-haze {
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(0, 229, 255, 0.03), transparent, rgba(123, 47, 255, 0.02), transparent);
  background-size: 200% 100%;
  animation: haze-drift 20s linear infinite;
  will-change: transform;
}

/* --- ABOUT EFFECTS --- */

.about-steam {
  position: absolute;
  bottom: 0;
  width: 60px;
  height: 80px;
  background: radial-gradient(ellipse at center bottom, rgba(255, 255, 255, 0.2), transparent 70%);
  will-change: transform, opacity;
}
.about-steam--1 { left: 15%; animation: steam-rise 5s ease-out infinite; }
.about-steam--2 { left: 40%; animation: steam-rise-alt 6s ease-out 1.5s infinite; }
.about-steam--3 { left: 65%; animation: steam-rise 7s ease-out 3s infinite; }
.about-steam--4 { left: 85%; animation: steam-rise-alt 5.5s ease-out 4s infinite; }

.about-reflection {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 15%;
  background: linear-gradient(90deg,
    rgba(0, 229, 255, 0.06),
    rgba(255, 0, 153, 0.04),
    rgba(255, 107, 0, 0.05),
    rgba(0, 229, 255, 0.04)
  );
  animation: reflection-pulse 6s ease-in-out infinite;
  will-change: opacity;
}

.about-ember {
  position: absolute;
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: rgba(255, 107, 0, 0.8);
  box-shadow: 0 0 4px rgba(255, 107, 0, 0.5);
  will-change: transform, opacity;
}
.about-ember--1 { bottom: 10%; left: 20%; animation: ember-rise 6s linear infinite; }
.about-ember--2 { bottom: 5%; left: 50%; animation: ember-rise 8s linear 2s infinite; }
.about-ember--3 { bottom: 8%; left: 75%; animation: ember-rise 7s linear 4s infinite; }

/* --- PROJECTS EFFECTS --- */

.projects-billboard-glow {
  position: absolute;
  border-radius: 4px;
  animation: billboard-cycle 8s ease-in-out infinite;
  will-change: background-color;
}

.projects-twinkle {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.9);
  animation: twinkle 3s ease-in-out infinite;
  will-change: opacity;
}

/* --- SERVICES EFFECTS --- */

.services-shop-glow {
  position: absolute;
  border-radius: 4px;
  background: radial-gradient(ellipse, rgba(255, 180, 50, 0.12), transparent 70%);
  animation: shop-glow 5s ease-in-out infinite;
  will-change: opacity;
}

.services-rain {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    100deg,
    transparent,
    transparent 98px,
    rgba(200, 220, 255, 0.06) 98px,
    rgba(200, 220, 255, 0.06) 99px
  );
  background-size: 100px 100%;
  animation: rain-fall 0.8s linear infinite;
  will-change: transform;
}

/* --- CONTACT EFFECTS --- */

.contact-city-light {
  position: absolute;
  width: 2px;
  height: 2px;
  border-radius: 50%;
  animation: twinkle var(--dur, 3s) ease-in-out var(--del, 0s) infinite;
  will-change: opacity;
}

.contact-cloud {
  position: absolute;
  top: 5%;
  width: 300px;
  height: 60px;
  background: radial-gradient(ellipse, rgba(255, 255, 255, 0.04), transparent 70%);
  animation: cloud-drift 40s linear infinite;
  will-change: transform;
}

.contact-lightning {
  position: absolute;
  inset: 0;
  background: rgba(200, 210, 255, 0.15);
  animation: lightning-flash 10s ease-in-out infinite;
  will-change: opacity;
}

/* --- ACCESSIBILITY --- */

@media (prefers-reduced-motion: reduce) {
  .city-fx-layer,
  .city-fx-layer * {
    animation: none !important;
    opacity: 0 !important;
  }
}
